<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>rot13</title>
</head>
<body>
<script>

var LOWERCASE_LOW = 97;
var LOWERCASE_HIGH = 122;
var UPPERCASE_LOW = 65;
var UPPERCASE_HIGH = 90;
var ROTATION_CONST = 13;

function rot13(string) {
  var newString = '';
  var asciiCode;

  for (var i = 0; i < string.length; i++) {
    asciiCode = string.charCodeAt(i)
    
    if (isLowerCase(asciiCode)) {
      asciiCode = rotateCharCode(asciiCode, LOWERCASE_HIGH, LOWERCASE_LOW);
    } else if (isUpperCase(asciiCode)) {
      asciiCode = rotateCharCode(asciiCode, UPPERCASE_HIGH, UPPERCASE_LOW);
    }

    newString += String.fromCharCode(asciiCode);
  }
  return newString;
}

function rotateCharCode(code, upperLimit, lowerLimit) {
  code += ROTATION_CONST;

  if (code > upperLimit) {
    code = (code % upperLimit) + lowerLimit - 1;
  }
  return code;
}

function isLowerCase(code) {
  return (LOWERCASE_LOW <= code) && (code <= LOWERCASE_HIGH);
}

function isUpperCase(code) {
  return (UPPERCASE_LOW <= code) && (code <= UPPERCASE_HIGH);
}

console.log(rot13('yz ab 13')); // "lm no 13"

</script>
</body>
</html>